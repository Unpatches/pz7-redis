## Имя: Дорджиев Виктор
## Группа: ЭФМО-02-25
# Проект pz7-redis

Задачи проекта
1)	Освоить базовые операции работы с Redis из Go-приложения.
2)	Научиться использовать команды SET, GET, задавать время жизни ключей (TTL).
3)	Реализовать кэширование данных для ускорения работы API.
4)	Понять, в каких случаях кэш помогает снизить нагрузку на базу данных.

---

## Установка и запуск

(Необходимы предустановленные Go и Git)

Клонировать репозиторий:

```
git clone https://github.com/Unpatches/pz7-redis
cd pz7-redis
```

Команда запуска сервера:

```
go run ./cmd/server
```


------

## Структура проекта

```plaintext
pz7-redis/                     
├── cmd/                  
│   └── server/             
│       └── main.go       
├── internal/              
│   └── cache/               
│   │   └── cache.go           
├── go.mod                
└── go.sum       
```

## Отчёт о проделанной работе
установка значения POST
```
http://217.119.129.232:8080/set?key=test&value=hello
```

<img width="475" height="433" alt="image" src="https://github.com/user-attachments/assets/cb096837-6639-4c96-b605-5b85dd2da72c" />

получение значения GET
```
http://217.119.129.232:8080/get?key=test
```

<img width="423" height="400" alt="image" src="https://github.com/user-attachments/assets/b2725afd-72a8-4bdb-b742-eede225cfd7c" />

проверка TTL GET
```
http://217.119.129.232:8080/ttl?key=test
```

<img width="384" height="407" alt="image" src="https://github.com/user-attachments/assets/07301e96-df2e-40f3-be2a-0d399ee6d0e2" />

------

## Контрольные вопросы
1) Redis (Remote Dictionary Server) — это высокопроизводительная
in-memory система хранения данных, которая работает по принципу
«ключ–значение».
Ключевые особенности:
− Все данные хранятся в оперативной памяти → скорость доступа
измеряется миллисекундами и даже микросекундами.
− Redis поддерживает разные структуры данных: строки, списки,
множества, хэши, упорядоченные множества, битовые поля и др.
− Есть встроенный механизм TTL (time-to-live) — время жизни
ключей. Когда TTL истекает, ключ автоматически удаляется.
− Redis может работать как кэш, брокер сообщений и даже как
основное хранилище для некоторых типов данных.
Redis часто называют NoSQL-хранилищем, так как он не использует
таблицы и SQL-запросы, а работает с командами наподобие SET, GET,
EXPIRE.

2) Модель данных и команды (основное)
- String (до сотен МБ, обычно — небольшие): SET/GET, INCR/DECR,
с TTL: SET key val EX 60.
- Hash (словари полей): компактно хранить профиль/объект: HSET
user:42 name Alice, HGETALL.
- List (упорядоченные двусторонние списки): очереди/ленты:
LPUSH/RPOP, BRPOP (блокирующая).
- Set (множества, без дублей): теги/аудитории:
SADD/SMEMBERS/SISMEMBER.
- Sorted Set (ZSet) (множество с score):
рейтинги/лидерборды/временные шкалы: ZADD/ZRANGE BYSCORE.
- Bitmap (битовые поля): флаги, ежедневные отметки:
SETBIT/GETBIT/ BITCOUNT.
- HyperLogLog: оценка количества уникальных: PFADD/PFCOUNT.
- Geo: координаты, радиусные запросы: GEOADD/GEORADIUS (или
новые GEOSEARCH).
- Streams: лог событий, группы потребителей: XADD,
XREADGROUP.
- Pub/Sub: широковещательные сообщения: PUBLISH/SUBSCRIBE
(без хранения).
Модули (при необходимости):
RedisJSON (JSON-документы), RediSearch (полнотекстовый поиск/индексы),
RedisBloom (фильтры Блума/Count-Min/Top-K).

3) TTL (Time-To-Live) — время жизни ключа.
− Если TTL установлен, то ключ автоматически исчезает из Redis
после указанного времени.
− Это удобно для кэширования: данные живут в кэше ограниченное
время и автоматически обновляются.
− TTL помогает избежать устаревших данных и перегрузки памяти.
Пример:
```
SETEX page:main 30 "<html>...</html>"
TTL page:main # → 30
```
Через 30 секунд ключ page:main удалится.
Это особенно важно, если кэш используется для хранения
динамических данных (например, список новостей обновляется каждые 5
минут).

4) Redis обычно используется в связке с основной БД:
− PostgreSQL (или MySQL) хранит постоянные данные.
− Redis хранит временные данные, которые можно быстро
получить
<img width="468" height="121" alt="image" src="https://github.com/user-attachments/assets/8d7f3bee-58a2-4a23-9e49-dbd356e03454" />
Такое решение ускоряет ответы API и снижает нагрузку на базу.

5) TTL (time-to-live) — время жизни
ключей. Когда TTL истекает, ключ автоматически удаляется.

